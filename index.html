<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { --fpv: #ff6600; --ha: #03a9f4; --bg: #0a0a0a; --card: #161616; }
        body { font-family: 'Segoe UI', monospace; background: var(--bg); color: #e0e0e0; margin: 0; padding: 0; }
        
        /* Navigation Tabs */
        .nav-bar { display: flex; background: #000; border-bottom: 1px solid #333; }
        .nav-btn { flex: 1; padding: 20px; text-align: center; cursor: pointer; font-weight: bold; letter-spacing: 2px; border: none; background: none; color: #555; transition: 0.3s; }
        .nav-btn.active.fpv-btn { color: var(--fpv); border-bottom: 3px solid var(--fpv); }
        .nav-btn.active.ha-btn { color: var(--ha); border-bottom: 3px solid var(--ha); }

        .container { max-width: 900px; margin: auto; padding: 20px; }
        .inventory-table { width: 100%; border-collapse: collapse; background: var(--card); border-radius: 8px; overflow: hidden; }
        .inventory-table td, th { padding: 15px; border-bottom: 1px solid #222; text-align: left; }
        th { background: #1a1a1a; font-size: 0.7rem; text-transform: uppercase; color: #888; }
        
        .status-tag { padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; background: #222; }
    </style>
</head>
<body>

    <div class="nav-bar">
        <button class="nav-btn active fpv-btn" onclick="showCategory('Drone')">üõ∏ FPV HANGAR</button>
        <button class="nav-btn ha-btn" onclick="showCategory('Home')">üè† SMART HOME</button>
    </div>

    <div class="container">
        <div id="content">Loading System Data...</div>
    </div>

    <script>
        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRLPLCFFC8Hi3lfSSHxo-1KRi9BYhboLM7s2zCZXSmCQbXtjIC9mdbzgi-J_kgdGO4XiEWzGQXZRoMV/pub?gid=0&single=true&output=csv
            ";
        let masterData = [];

        async function init() {
            const response = await fetch(sheetUrl);
            const text = await response.text();
            // Split CSV into rows and columns
            masterData = text.split('\n').map(row => row.split(','));
            showCategory('Drone'); // Default view
        }

        function showCategory(cat) {
            // Update Buttons
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');

            // Build Table
            let html = `<table class="inventory-table"><thead><tr><th>Model</th><th>Specs</th><th>Status</th></tr></thead><tbody>`;
            
            // Filter data based on the "Category" column (Column 0 in your sheet)
            masterData.forEach(cols => {
                if (cols[0] === cat) {
                    html += `<tr>
                        <td><strong>${cols[1]}</strong></td>
                        <td>${cols[2]}</td>
                        <td><span class="status-tag">${cols[3]}</span></td>
                    </tr>`;
                }
            });

            html += `</tbody></table>`;
            document.getElementById('content').innerHTML = html;
        }

        init();
    </script>
</body>
</html>

